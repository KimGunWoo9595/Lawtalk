<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http//mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="LawyerComment"> 
   	 <!--변호사 답글 목록 -->
   <select id ="commentList" parameterType="_int" resultType="lawyercommentDTO">
   		 select lawyer_write_num, content , lawyer_id, user_write_num, lawyer_num
  		 from tbl_lawyer_comment r join tbl_lawyer_register m
  		 on r.member_number = m.lawyer_num and user_write_num = #{userWriteNum}
  		 order by 1 desc
   </select>
   
	 <!--변호사 글 작성 -->
   <insert id ="commentWrite" parameterType="lawyerCommentVO">
  		  insert into tbl_lawyer_comment 
  		  (content , lawyer_name)
 		  values(#{content}, #{lawyerName})
   </insert>
 
   <!--답 글 삭제  -->
   <delete id ="commentDelete" parameterType ="_int">
		delete from tbl_lawyer_comment where lawyer_write_num = #{lawyerWriteNum}
   </delete>   
   
   <!-- 변호사 글 수정  -->
   <update id ="commentUpdate" parameterType ="LawyerCommentVO">
         update tbl_lawyer_comment
         set  content = #{content}
         where lawyer_write_num = #{lawyerWriteNum}
   </update>
</mapper>